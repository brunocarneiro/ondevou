<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:plct="http://www.powerlogic.com.br/plct"
	xmlns:plcf="http://www.powerlogic.com.br/plcf"
	>

	<f:loadBundle basename="jCompanyResources" var="msg"/>
	<head>
		<title>
			#{empty plcTituloErro ? msg['jcompany.error.default.titulo'] : plcTituloErro}
		</title>
		<link href="#{request.contextPath}/res-plc/erros/erros.css" rel="stylesheet" type="text/css" />
	</head>

	<body class="erros" marginheight="0" marginwidth="0" style="background-image:url(#{request.contextPath}#{plcImagemErro})">
		<ui:insert name="plc-erro-corpo">
			<h1>#{empty plcTituloErro ? msg['jcompany.error.default.titulo'] : plcTituloErro}</h1>
			<h2>#{empty plcSubTituloErro ? msg['jcompany.error.default.subtitulo'] : plcSubTituloErro}</h2>
			<p>#{empty plcSaudacaoErro ? msg['jcompany.error.saudacao'] : plcSaudacaoErro}</p>
			<p>#{empty plcExplicacaoErro ? msg['jcompany.error.default.explicacao'] : plcExplicacaoErro}</p>
			<c:set var="requestContextPathErro" value="#{request.contextPath}/f/fcls/erros/erro597.xhtml"/>
			<c:if test="#{requestContextPathErro  == request.requestURI}"> 
				<h4>Log do erro:</h4>
				<c:forEach var="erros" items="#{plct:cacheService('ERRO_INI_PLC')}" varStatus="i">
					<plcf:titulo titulo="#{erros.key}" 	for="id-#{erros.key}"/>
					<plcf:titulo titulo="#{erros.value}" 	for="id-#{erros.value}"/>
					 
				</c:forEach>
				#{plct:limpaCacheErroFatalInicializacao()} 	
			<p>#{empty plcSolucaoErro ? msg['jcompany.error.default.solucao'] : plcSolucaoErro}</p>
			<hr size="1" width="100%" color="#b70c0c" noshade="noshade"/>
			</c:if>
		</ui:insert>

		<ui:insert name="plc-erro-rodape">
			<p class="rodape">
			#{metadados['nomeEmpresa']}<br/>
			#{metadados['enderecoEmpresa']}<br/>
			#{empty plcTelefoneErro ? msg['jcompany.error.telefone'] : plcTelefoneErro}
			#{metadados['telefoneSuporteEmpresa']}<br/>
			#{empty plcEmailErro ? msg['jcompany.error.email'] : plcEmailErro}
			<a href="mailto:#{metadados['emailSuporteEmpresa']}">
			#{metadados['emailSuporteEmpresa']}</a>
			</p>	
		</ui:insert>		
	</body>
</html>