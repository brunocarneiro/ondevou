<html xmlns="http://www.w3.org/1999/xhtml">

	<head>

		<title>Seleção de Ativos</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />

		<link rel="stylesheet" type="text/css" href="/epc/res-plc/geral.css" />
		<link rel="stylesheet" type="text/css" href="/epc/res-plc/import.css" />
		<link rel="stylesheet" type="text/css" href="/epc/res-plc/jquery/jquery.jqGrid-3.8.2/css/ui.jqgrid.css" />
		<link rel="stylesheet" type="text/css" href="/epc/res-plc/jquery/jquery-ui/jquery-ui-1.8.9.custom.css" />

		<script type="text/javascript" src="/epc/res-mvp/javascript/jquery/jquery-1.5.js"></script>
		<script type="text/javascript" src="/epc/res-mvp/javascript/jquery/jquery.json-2.2.js"></script>
		<script type="text/javascript" src="/epc/res-mvp/javascript/pagebus/pagebus.js"></script>
		<script type="text/javascript" src="/epc/res-mvp/plc.mvp.js"></script>

		<script type="text/javascript" src="/epc/res-plc/jquery/jquery.jqGrid-3.8.2/js/i18n/grid.locale-en.js"></script>
		<script type="text/javascript" src="/epc/res-plc/jquery/jquery.jqGrid-3.8.2/js/jquery.jqGrid.min.js"></script>

	</head>
	<body>
	
		<div class="yui-t1" >
			<div id="yui-main">

			
				<!--PLC BARRA ACOES (IMPRESSAO, PERMALINK, NOVO..) -->
				<div class="yui-b"  style="margin-left: 168px; ">
					<!-- Mensagem erro -->
					<div class="plc-msg" id="plc-mensagem">
						<div class="ui-corner-all plc-msg-erro" style="display:none"></div>
						<div class="ui-corner-all plc-msg-sucesso" style="display:none"></div>
						<div class="ui-corner-all plc-msg-advertencia" style="display:none"></div>
						<div class="ui-corner-all plc-msg-livre" style="display:none"></div>
					</div>
					<div>
						<div  class="toolbar" style="visibility: visible; ">
							<div  class="header-bar flat-button theme-bg-2">
								<div class="right">							
									
									<div class="page">
									<div class="buttons">
										<button class="button new" data-args="action:'assetman'" value="create">Novo</button>
										<span class="separator"></span>
										<span><img src="/epc/res-plc/form-permalink.png" alt="" /></span> 
										<span><img style=" border: 0pt;" src="/epc/res-plc/impressao.png" alt="" /></span>
										<span><img style=" border: 0pt;" src="/epc/res-alfresco/rss.gif" alt="" /></span>
									</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!--FIM PLC BARRA ACOES (IMPRESSAO, PERMALINK, NOVO..) -->
					
					<!-- PLC ITEM NAVEGACAO GRID -->
					<div>
						<div class="doclist" style="visibility: visible; ">
							<div class="yui-gc doclist-bar flat-button">
								<div class="yui-u first">
									<div class="file-select">
										<span class="yui-button yui-menu-button" ><span class="first-child"><input type="checkbox" value="" name="check">Select</input></span></span>
									</div>
									<div  class="paginator yui-pg-container" ><span  class="yui-pg-current">Showing items 0 - 0 of 0</span> &nbsp; <span class="separator">&nbsp;</span> &nbsp; <span  class="yui-pg-previous">&lt;&lt; Previous</span> <span  class="yui-pg-pages"></span> <span  class="yui-pg-next">Next &gt;&gt;</span></div>
								</div>
								<div class="yui-u align-right">
									<div  class="simple-detailed yui-buttongroup inline">
										<span class="yui-button yui-radio-button simple-view" ><span class="first-child"><button type="button" tabindex="0" title="Simple View" ></button></span></span><span class="yui-button yui-radio-button yui-button-checked yui-radio-button-checked detailed-view" ><span class="first-child"><button type="button" tabindex="0" title="Detailed View" ></button></span></span>
									</div>
								</div>
							</div>
							<div  class="documents yui-dt">
								<div class="yui-dt-mask" style="display: none; "></div>
								<table id="grid"></table> 
								<div id="pager"></div>
							</div>
							<div  class="yui-gc doclist-bar doclist-bar-bottom flat-button" style="display: block; ">
								<div class="yui-u first">
									<div class="file-select">&nbsp;</div>
									<div  class="paginator yui-pg-container" style=""><span  class="yui-pg-current">Showing items 0 - 0 of 0</span> &nbsp; <span class="separator">&nbsp;</span> &nbsp; <span  class="yui-pg-previous">&lt;&lt; Previous</span> <span  class="yui-pg-pages"></span> <span  class="yui-pg-next">Next &gt;&gt;</span></div>
								</div>
							</div>
						</div>
					</div>
					<!-- PLC FIM ITEM NAVEGACAO GRID -->
				</div>
			</div>
			
			<!-- PLC BARRA LATERAL ESQUERDA -->
			<div class="yui-b yui-resize"  style="width: 160; height: auto; ">
				<form action="assetsel">
					<div>
						<div class="filter">
							<h2 class="alfresco-twister alfresco-twister-open">Filtro Rápido</h2>
							<ul class="filterLink" style="display: block; ">
								<li><span class="editingMe"><a class="filter-link filter0" rel="" href="#filter">Todos</a></span></li>
								<li><span class="favourites"><a class="filter-link filter0" rel="" href="#filter">Favoritos</a></span></li>
								<li><span class="favourites"><a class="filter-link filter0" rel="" href="#filter" data-args="data:{createdByUserLogin:'adolfo'}">Que Eu Criei</a></span></li>
								<li><span class="favourites"><a class="filter-link filter0" rel="" href="#filter" data-args="data:{lastModifiedByUserLogin:'adolfo'}">Que Fiz Ult. Alteração</a></span></li>
								<li><span class="favourites"><a class="filter-link filter0" rel="" href="#filter" data-args="data:{createdByUserLogin:'alvim'}">Que o ALvim Criou</a></span></li>
								<li><span class="favourites"><a class="filter-link filter0" rel="" href="#filter" data-args="data:{lastModifiedByUserLogin:'alvim'}">Que o Alvim Alterou</a></span></li>
								<li><span class="favourites"><a class="filter-link filter0" rel="" href="#filter">Que Uso</a></span></li>
							</ul>
						</div>
					</div>
					<div > 
						<div class="filter">
							
							<h2  class="alfresco-twister alfresco-twister-open">Filtro Específico</h2>
							
							<select name="primaryType_id" data-lookup="AssetArtifactTypePrimary" style="width: 140px;">
								<option value="">[Tipo de Ativo]</option>
							</select>
							<select name="assetDomain_id" data-lookup="AssetDomain" style="width: 140px;">
								<option value="">[Domínio do Ativo]</option>
							</select>
							
							<input type="text" name="name" value="" style="width:140px;" placeholder="Nome/Descricao contém"/>
							
							<button value="filter">Pesquisar</button>
							
						</div>
					</div>
					<div class="filter">
						<h2 class="alfresco-twister alfresco-twister-open">Tags</h2>
						<ul class="filterLink"  style="display: block; ">
							<li><span class="tag"><a href="#filter" data-args="data:{tags:'gadgets'}" class="tag-link" rel="teste">Gadgets</a>&nbsp;(1)</span></li>
							<li><span class="tag"><a href="#filter" data-args="data:{tags:'webservice'}" class="tag-link" rel="tret">WebService</a>&nbsp;(1)</span></li>
						</ul>
					</div>
				</form>
			</div>
			<!-- PLC FIM BARRA LATERAL ESQUERDA -->
		</div>
	
		<script type="text/javascript">
			
			$(function(){
			
				jQuery("#grid").jqGrid({
					datatype: "local"
					,width: 1100
					,height: 480
					//,colNames:['Tipo Primário','Nome','Descrição','Versão','Avaliação','Domínio','Acesso']
					,colNames:['Tipo','Nome', 'Descrição','Versão','Avaliação','Domínio','Acesso','Ações']
					,colModel:[
						 {name:'id', index:'id', width:55}
						,{name:'name', index:'name', width:90}
						,{name:'description', index:'description', width:80, align:'right'}
						,{name:'assetVersion', index:'assetVersion', width:80, align:'right'}
						,{name:'evaluation', index:'evaluation', width:80, align:'right'}
						,{name:'assetDomain.lookup', index:'assetDomain.lookup', width:80, align:'right'}
						,{name:'id', index:'id', width:80, align:'right'}
						,{name: 'id',index: 'id'
							,title: 'Ações'
							,formatter: function( id ){
								return '<a href="' + plc.contextPath + '/res-mvp/asset.crud.html?id=' + id + '">[e]</a>';
							}
						}
					]
				});
				
				plc.bus.subscribe("form.filter.assetsel", function( type, message ){
					plc.bus.publish("service.list.assetsel", {
						data: message.data
						,done: function( response ){
							var assets = response.assetsel;
							jQuery("#grid").jqGrid("clearGridData");
							for ( var i = 0; i <= assets.length; i++ ) {
								jQuery("#grid").jqGrid("addRowData", i + 1, assets[i]);
							}
						}
					});
				});
				
				plc.bus.subscribe("form.create.assetman", function( type, message ){
					window.location.replace( plc.contextPath + "/res-mvp/asset.crud.html" );
				});
				
			});

		</script>
	
	</body>
</html>